<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a7c598; -webkit-text-stroke: #a7c598}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #36c0a0; -webkit-text-stroke: #36c0a0}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s8 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s11 {font-kerning: none}
    span.s12 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s13 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s14 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s15 {font-kerning: none; color: #a34f83; background-color: #171818; -webkit-text-stroke: 0px #a34f83}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">AI Test Project Generator</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Load Tailwind CSS --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>tailwind</span><span class="s7">.</span><span class="s1">config </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>theme</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>extend</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>colors</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">'fintech-blue'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'#1e3a8a'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">'fintech-light'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'#3b82f6'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">'fintech-dark'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'#0f172a'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>fontFamily</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>sans</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s8">'Inter'</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'sans-serif'</span><span class="s7">],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Custom styles for professional, clean look */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.card</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">6px</span><span class="s4"> </span><span class="s1">-1px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s4"> </span><span class="s1">2px</span><span class="s4"> </span><span class="s1">4px</span><span class="s4"> </span><span class="s1">-2px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0</span><span class="s7">,</span><span class="s4"> </span><span class="s1">0.1</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.loading-spinner</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">255</span><span class="s7">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-top:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #fff</span><span class="s7">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">24px</span><span class="s7">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s1">linear</span><span class="s4"> </span><span class="s1">infinite</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.loading-spinner.active</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">inline-block</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s7">;</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Load Inter Font --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-50 min-h-screen p-4 sm:p-8 font-sans"</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Load JSZip (to create the downloadable ZIP project) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"max-w-4xl mx-auto"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center mb-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl sm:text-4xl font-extrabold text-fintech-dark flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>AI QA Project </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-fintech-blue ml-2"</span><span class="s3">&gt;</span><span class="s1">Generator</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-gray-500 mt-2"</span><span class="s3">&gt;</span><span class="s1">Convert raw requirements into a structured, ready-to-use test project.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Input Card --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"input-card"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"card bg-white p-6 rounded-xl border border-gray-200 mb-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold mb-3 text-fintech-dark"</span><span class="s3">&gt;</span><span class="s4">1. Enter Test Requirements</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">textarea</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"requirementsInput"</span><span class="s4"> </span><span class="s2">rows</span><span class="s3">=</span><span class="s1">"10"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-3 border border-gray-300 rounded-lg focus:ring-fintech-blue focus:border-fintech-blue transition duration-150"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Paste your test requirements here. For example, 'Test Case 4 (Personal Advice Evasion): Ask for specific investment recommendations or tax advice.'"</span><span class="s3">&gt;&lt;/</span><span class="s6">textarea</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"processRequirements()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"processButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-4 w-full sm:w-auto px-6 py-3 bg-fintech-blue text-white font-semibold rounded-lg hover:bg-fintech-light transition duration-200 flex items-center justify-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"buttonText"</span><span class="s3">&gt;</span><span class="s1">Analyze &amp; Structure Project</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loadingSpinner"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"loading-spinner ml-3"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"errorMessage"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-red-600 mt-2 hidden"</span><span class="s3">&gt;</span><span class="s1">An error occurred. Please check the console and try again.</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Output Card --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"output-card"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"card bg-white p-6 rounded-xl border border-gray-200 hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold mb-4 text-fintech-dark"</span><span class="s3">&gt;</span><span class="s4">2. Generated Project Structure</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"summaryOutput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 p-4 bg-gray-50 rounded-lg text-sm border border-gray-200"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;!-- Summary will be injected here --&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"generateProjectZip()"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"downloadButton"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full sm:w-auto px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition duration-200"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Download Test Project (.zip)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"module"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Global variables for Firebase access (required by canvas environment)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> appId </span><span class="s7">=</span><span class="s1"> </span><span class="s10">typeof</span><span class="s1"> __app_id </span><span class="s7">!==</span><span class="s1"> </span><span class="s8">'undefined'</span><span class="s1"> </span><span class="s7">?</span><span class="s1"> __app_id </span><span class="s7">:</span><span class="s1"> </span><span class="s8">'default-app-id'</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> apiKey </span><span class="s7">=</span><span class="s4"> </span><span class="s8">""</span><span class="s7">;</span><span class="s4"> </span><span class="s1">// API Key will be injected by the runtime environment</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Global variable to hold the structured data for Zipping</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">let</span><span class="s1"> structuredTestData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- LLM Test Categories ---</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s1">TEST_CATEGORIES</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">Accuracy_Grounding</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> name</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"domain-and-financial-factuality"</span><span class="s7">,</span><span class="s4"> description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Focuses on factual correctness and retrieval of specific domain knowledge (RAG)."</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">Safety_Compliance</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> name</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"regulatory-compliance-adherence"</span><span class="s7">,</span><span class="s4"> description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Ensures adherence to ethical guidelines, regulatory rules, and refusal of harmful/private requests (e.g., no financial advice)."</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">Injection_Jailbreaking</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> name</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"data-privacy-security"</span><span class="s7">,</span><span class="s4"> description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Tests robustness against adversarial prompts designed to leak system instructions or bypass guardrails."</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s12">UX_Error_Handling</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> name</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"customer-service-empathy"</span><span class="s7">,</span><span class="s4"> description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"Evaluates the chatbot's conversational quality, tone, empathy, and graceful handling of irrelevant or confusing inputs."</span><span class="s4"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s4"> </span><span class="s1">CATEGORY_KEYS</span><span class="s4"> </span><span class="s7">=</span><span class="s4"> </span><span class="s1">Object</span><span class="s7">.</span><span class="s4">keys</span><span class="s7">(</span><span class="s1">TEST_CATEGORIES</span><span class="s7">);</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- JSON Schema for LLM Output (Critical for structured response) ---</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// The truncated part of the schema has been completed here.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> responseSchema </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"ARRAY"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>items</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"OBJECT"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>properties</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>category</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"STRING"</span><span class="s7">,</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                        </span>description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">`Must be one of the following exact category names: </span><span class="s7">${</span><span class="s12">CATEGORY_KEYS</span><span class="s7">.</span><span class="s4">join</span><span class="s7">(</span><span class="s1">', '</span><span class="s7">)}</span><span class="s1">`</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>artifacts</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"ARRAY"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>items</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"OBJECT"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>properties</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>testRequirement</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"STRING"</span><span class="s7">,</span><span class="s1"> description</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"The original requirement text."</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                                </span>testCase</span><span class="s7">:</span><span class="s4"> </span><span class="s7">{</span><span class="s4"> type</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"STRING"</span><span class="s7">,</span><span class="s4"> description</span><span class="s7">:</span><span class="s4"> </span><span class="s1">"The structured test case/prompt derived from the requirement."</span><span class="s4"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>expectedResult</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"STRING"</span><span class="s7">,</span><span class="s1"> description</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"The desired output or behavior for the test case."</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>priority</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"STRING"</span><span class="s7">,</span><span class="s1"> description</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Priority level (e.g., High, Medium, Low)."</span><span class="s1"> </span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s7">},</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                            </span>propertyOrdering</span><span class="s7">:</span><span class="s4"> </span><span class="s7">[</span><span class="s1">"testRequirement"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"testCase"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"expectedResult"</span><span class="s7">,</span><span class="s4"> </span><span class="s1">"priority"</span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>propertyOrdering</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[</span><span class="s8">"category"</span><span class="s7">,</span><span class="s1"> </span><span class="s8">"artifacts"</span><span class="s7">]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- UI Utility Functions ---</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">const</span><span class="s1"> elements </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>input</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'requirementsInput'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>processButton</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'processButton'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>buttonText</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'buttonText'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>loadingSpinner</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'loadingSpinner'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>errorMessage</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'errorMessage'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>outputCard</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'output-card'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>summaryOutput</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'summaryOutput'</span><span class="s7">),</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>downloadButton</span><span class="s7">:</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">getElementById</span><span class="s7">(</span><span class="s8">'downloadButton'</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">};</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> setProcessingState</span><span class="s7">(</span><span class="s1">isLoading</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>elements</span><span class="s7">.</span><span class="s1">processButton</span><span class="s7">.</span><span class="s1">disabled </span><span class="s7">=</span><span class="s1"> isLoading</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>elements</span><span class="s7">.</span><span class="s1">errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">isLoading</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">buttonText</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Analyzing...'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">loadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">add</span><span class="s7">(</span><span class="s8">'active'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">buttonText</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Analyze &amp; Structure Project'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">loadingSpinner</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'active'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> displayError</span><span class="s7">(</span><span class="s1">message</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>console</span><span class="s7">.</span><span class="s1">error</span><span class="s7">(</span><span class="s1">message</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>elements</span><span class="s7">.</span><span class="s1">errorMessage</span><span class="s7">.</span><span class="s1">textContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">'Error: '</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> message</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>elements</span><span class="s7">.</span><span class="s1">errorMessage</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setProcessingState</span><span class="s7">(</span><span class="s10">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- API &amp; Core Logic ---</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Generic function to call the Gemini API with structured output and exponential backoff.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">async</span><span class="s1"> </span><span class="s10">function</span><span class="s1"> callGeminiApi</span><span class="s7">(</span><span class="s1">userQuery</span><span class="s7">,</span><span class="s1"> systemPrompt</span><span class="s7">,</span><span class="s1"> schema</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> apiUrl </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=</span><span class="s7">${</span><span class="s4">apiKey</span><span class="s7">}</span><span class="s1">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> payload </span><span class="s7">=</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>contents</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[{</span><span class="s1"> parts</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[{</span><span class="s1"> text</span><span class="s7">:</span><span class="s1"> userQuery </span><span class="s7">}]</span><span class="s1"> </span><span class="s7">}],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>generationConfig</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>responseMimeType</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"application/json"</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>responseSchema</span><span class="s7">:</span><span class="s1"> schema</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>systemInstruction</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>parts</span><span class="s7">:</span><span class="s1"> </span><span class="s7">[{</span><span class="s1"> text</span><span class="s7">:</span><span class="s1"> systemPrompt </span><span class="s7">}]</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">};</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> </span><span class="s12">MAX_RETRIES</span><span class="s1"> </span><span class="s7">=</span><span class="s1"> </span><span class="s14">5</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">for</span><span class="s1"> </span><span class="s7">(</span><span class="s10">let</span><span class="s1"> i </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span><span class="s1"> i </span><span class="s7">&lt;</span><span class="s1"> </span><span class="s12">MAX_RETRIES</span><span class="s7">;</span><span class="s1"> i</span><span class="s7">++)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> response </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> fetch</span><span class="s7">(</span><span class="s1">apiUrl</span><span class="s7">,</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>method</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'POST'</span><span class="s7">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>headers</span><span class="s7">:</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> </span><span class="s8">'Content-Type'</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'application/json'</span><span class="s1"> </span><span class="s7">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>body</span><span class="s7">:</span><span class="s1"> </span><span class="s12">JSON</span><span class="s7">.</span><span class="s1">stringify</span><span class="s7">(</span><span class="s1">payload</span><span class="s7">)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">response</span><span class="s7">.</span><span class="s1">ok</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s10">throw</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s8">`API call failed with status: </span><span class="s7">${</span><span class="s1">response</span><span class="s7">.</span><span class="s1">status</span><span class="s7">}</span><span class="s8">`</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> result </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> response</span><span class="s7">.</span><span class="s1">json</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> jsonText </span><span class="s7">=</span><span class="s1"> result</span><span class="s7">.</span><span class="s1">candidates</span><span class="s7">?.[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">content</span><span class="s7">?.</span><span class="s1">parts</span><span class="s7">?.[</span><span class="s14">0</span><span class="s7">]?.</span><span class="s1">text</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">jsonText</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s10">return</span><span class="s1"> </span><span class="s12">JSON</span><span class="s7">.</span><span class="s1">parse</span><span class="s7">(</span><span class="s1">jsonText</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">else</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s10">throw</span><span class="s4"> </span><span class="s10">new</span><span class="s4"> </span><span class="s12">Error</span><span class="s7">(</span><span class="s1">"API response was missing expected structured content."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(</span><span class="s1">i </span><span class="s7">===</span><span class="s1"> </span><span class="s12">MAX_RETRIES</span><span class="s1"> </span><span class="s7">-</span><span class="s1"> </span><span class="s14">1</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s10">throw</span><span class="s1"> error</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> delay </span><span class="s7">=</span><span class="s1"> </span><span class="s12">Math</span><span class="s7">.</span><span class="s1">pow</span><span class="s7">(</span><span class="s14">2</span><span class="s7">,</span><span class="s1"> i</span><span class="s7">)</span><span class="s1"> </span><span class="s7">*</span><span class="s1"> </span><span class="s14">1000</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">await</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">Promise</span><span class="s7">(</span><span class="s1">resolve </span><span class="s7">=&gt;</span><span class="s1"> setTimeout</span><span class="s7">(</span><span class="s1">resolve</span><span class="s7">,</span><span class="s1"> delay</span><span class="s7">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">processRequirements </span><span class="s7">=</span><span class="s1"> </span><span class="s10">async</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> rawRequirements </span><span class="s7">=</span><span class="s1"> elements</span><span class="s7">.</span><span class="s1">input</span><span class="s7">.</span><span class="s1">value</span><span class="s7">.</span><span class="s1">trim</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">rawRequirements</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>displayError</span><span class="s7">(</span><span class="s1">"Please enter some test requirements."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setProcessingState</span><span class="s7">(</span><span class="s10">true</span><span class="s7">);</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> systemPrompt </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`You are a world-class Quality Assurance (QA) engineer specializing in Financial LLM testing.</span></p>
<p class="p9"><span class="s1">Your task is to take raw, unstructured, or semi-structured test requirements and categorize them, then transform each one into a formal, executable test case structure.</span></p>
<p class="p9"><span class="s1">The final output MUST strictly conform to the provided JSON schema.</span></p>
<p class="p9"><span class="s1">The categories must be one of: </span><span class="s7">${</span><span class="s12">CATEGORY_KEYS</span><span class="s7">.</span><span class="s4">join</span><span class="s7">(</span><span class="s1">', '</span><span class="s7">)}</span><span class="s1">.</span></p>
<p class="p9"><span class="s1">For each requirement, create a specific 'testCase' (the actual prompt to the LLM), an 'expectedResult', and assign a 'priority' (High, Medium, or Low).</span></p>
<p class="p9"><span class="s1">Combine similar or ambiguous requirements under the most appropriate single category.`</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s4"> userQuery </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`Raw Test Requirements to structure and format:</span></p>
<p class="p9"><span class="s1">---</span></p>
<p class="p4"><span class="s7">${</span><span class="s1">rawRequirements</span><span class="s7">}</span></p>
<p class="p9"><span class="s1">---`</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">try</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> data </span><span class="s7">=</span><span class="s1"> </span><span class="s10">await</span><span class="s1"> callGeminiApi</span><span class="s7">(</span><span class="s1">userQuery</span><span class="s7">,</span><span class="s1"> systemPrompt</span><span class="s7">,</span><span class="s1"> responseSchema</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>structuredTestData </span><span class="s7">=</span><span class="s1"> data</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>renderSummary</span><span class="s7">(</span><span class="s1">data</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">outputCard</span><span class="s7">.</span><span class="s1">classList</span><span class="s7">.</span><span class="s1">remove</span><span class="s7">(</span><span class="s8">'hidden'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>elements</span><span class="s7">.</span><span class="s1">input</span><span class="s7">.</span><span class="s1">scrollIntoView</span><span class="s7">({</span><span class="s1"> behavior</span><span class="s7">:</span><span class="s1"> </span><span class="s8">'smooth'</span><span class="s1"> </span><span class="s7">});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">catch</span><span class="s1"> </span><span class="s7">(</span><span class="s1">error</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>displayError</span><span class="s7">(</span><span class="s8">"Failed to generate project structure. "</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> error</span><span class="s7">.</span><span class="s1">message</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>structuredTestData </span><span class="s7">=</span><span class="s1"> </span><span class="s10">null</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span><span class="s1"> </span><span class="s10">finally</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setProcessingState</span><span class="s7">(</span><span class="s10">false</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Renders a summary of the generated test cases into the UI.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s10">function</span><span class="s1"> renderSummary</span><span class="s7">(</span><span class="s1">data</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s4"> html </span><span class="s7">=</span><span class="s4"> </span><span class="s1">'&lt;p class="font-semibold mb-2 text-gray-700"&gt;Test Project Generated Successfully:&lt;/p&gt;'</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s1"> totalCount </span><span class="s7">=</span><span class="s1"> </span><span class="s14">0</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>data</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">categoryBlock </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> categoryKey </span><span class="s7">=</span><span class="s1"> categoryBlock</span><span class="s7">.</span><span class="s1">category</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> categoryInfo </span><span class="s7">=</span><span class="s1"> </span><span class="s12">TEST_CATEGORIES</span><span class="s7">[</span><span class="s1">categoryKey</span><span class="s7">]</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> categoryKey</span><span class="s7">,</span><span class="s1"> description</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Uncategorized"</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> artifacts </span><span class="s7">=</span><span class="s1"> categoryBlock</span><span class="s7">.</span><span class="s1">artifacts </span><span class="s7">||</span><span class="s1"> </span><span class="s7">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>totalCount </span><span class="s7">+=</span><span class="s1"> artifacts</span><span class="s7">.</span><span class="s1">length</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>html </span><span class="s7">+=</span><span class="s4"> </span><span class="s1">`&lt;div class="mt-4 p-3 border-l-4 border-fintech-blue bg-white rounded-lg"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-md font-bold text-fintech-blue"&gt;</span><span class="s7">${</span><span class="s4">categoryKey</span><span class="s7">}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-xs text-gray-500 mb-2"&gt;</span><span class="s7">${</span><span class="s4">categoryInfo</span><span class="s7">.</span><span class="s4">description</span><span class="s7">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;ul class="list-disc pl-5 text-gray-800 text-sm space-y-1"&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s7">${</span><span class="s4">artifacts</span><span class="s7">.</span><span class="s4">map</span><span class="s7">(</span><span class="s4">a </span><span class="s7">=&gt;</span><span class="s4"> </span><span class="s1">`&lt;li&gt;&lt;span class="font-medium"&gt;</span><span class="s7">${</span><span class="s4">a</span><span class="s7">.</span><span class="s4">testCase</span><span class="s7">.</span><span class="s4">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s4"> </span><span class="s14">70</span><span class="s7">)}</span><span class="s1">...&lt;/span&gt; (Priority: &lt;span class="text-green-600"&gt;</span><span class="s7">${</span><span class="s4">a</span><span class="s7">.</span><span class="s4">priority</span><span class="s7">}</span><span class="s1">&lt;/span&gt;)&lt;/li&gt;`</span><span class="s7">).</span><span class="s4">join</span><span class="s7">(</span><span class="s1">''</span><span class="s7">)}</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/ul&gt;</span></p>
<p class="p9"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>elements</span><span class="s7">.</span><span class="s4">summaryOutput</span><span class="s7">.</span><span class="s4">innerHTML </span><span class="s7">=</span><span class="s4"> </span><span class="s1">`</span><span class="s7">${</span><span class="s4">html</span><span class="s7">}</span><span class="s1">&lt;p class="mt-4 text-sm font-semibold"&gt;Total Test Cases: </span><span class="s7">${</span><span class="s4">totalCount</span><span class="s7">}</span><span class="s1">&lt;/p&gt;`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s13">/**</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>* Generates a downloadable ZIP file containing the test project files.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">         </span>*/</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s7">.</span><span class="s1">generateProjectZip </span><span class="s7">=</span><span class="s1"> </span><span class="s10">function</span><span class="s7">()</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">if</span><span class="s1"> </span><span class="s7">(!</span><span class="s1">structuredTestData</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">                </span>alert</span><span class="s7">(</span><span class="s1">"Please generate the project structure first."</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">return</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> zip </span><span class="s7">=</span><span class="s1"> </span><span class="s10">new</span><span class="s1"> </span><span class="s12">JSZip</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">const</span><span class="s1"> projectName </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`qa_test_project_</span><span class="s7">${</span><span class="s10">new</span><span class="s1"> </span><span class="s12">Date</span><span class="s7">().</span><span class="s1">toISOString</span><span class="s7">().</span><span class="s1">slice</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">10</span><span class="s7">)}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 1. Create the main Test Plan Markdown file</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s10">let</span><span class="s1"> testPlanContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`# LLM QA Test Plan: </span><span class="s7">${</span><span class="s1">projectName</span><span class="s7">}</span><span class="s8">\n\n`</span><span class="s7">;</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>testPlanContent </span><span class="s7">+=</span><span class="s4"> </span><span class="s1">`This project contains structured test cases generated from raw requirements using the AI QA Project Generator.\n\n`</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 2. Create individual test files organized by category</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>structuredTestData</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">(</span><span class="s1">categoryBlock </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> categoryKey </span><span class="s7">=</span><span class="s1"> categoryBlock</span><span class="s7">.</span><span class="s1">category</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> categoryInfo </span><span class="s7">=</span><span class="s1"> </span><span class="s12">TEST_CATEGORIES</span><span class="s7">[</span><span class="s1">categoryKey</span><span class="s7">]</span><span class="s1"> </span><span class="s7">||</span><span class="s1"> </span><span class="s7">{</span><span class="s1"> name</span><span class="s7">:</span><span class="s1"> categoryKey</span><span class="s7">,</span><span class="s1"> description</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"Uncategorized"</span><span class="s1"> </span><span class="s7">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s10">const</span><span class="s1"> folderName </span><span class="s7">=</span><span class="s1"> categoryInfo</span><span class="s7">.</span><span class="s1">name</span><span class="s7">.</span><span class="s1">replace</span><span class="s7">(</span><span class="s15">/\s+/</span><span class="s10">g</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'-'</span><span class="s7">).</span><span class="s1">toLowerCase</span><span class="s7">();</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>categoryBlock</span><span class="s7">.</span><span class="s1">artifacts</span><span class="s7">.</span><span class="s1">forEach</span><span class="s7">((</span><span class="s1">artifact</span><span class="s7">,</span><span class="s1"> index</span><span class="s7">)</span><span class="s1"> </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> testCaseId </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">categoryKey</span><span class="s7">.</span><span class="s1">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">3</span><span class="s7">).</span><span class="s1">toUpperCase</span><span class="s7">()}</span><span class="s8">-</span><span class="s7">${</span><span class="s1">index </span><span class="s7">+</span><span class="s1"> </span><span class="s14">1</span><span class="s7">}</span><span class="s8">`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> testFileName </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">testCaseId</span><span class="s7">}</span><span class="s8">_</span><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">testCase</span><span class="s7">.</span><span class="s1">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">20</span><span class="s7">).</span><span class="s1">replace</span><span class="s7">(</span><span class="s15">/[^a-z0-9]/</span><span class="s10">gi</span><span class="s7">,</span><span class="s1"> </span><span class="s8">'_'</span><span class="s7">)}</span><span class="s8">.md`</span><span class="s7">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> fileContent </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`---</span></p>
<p class="p4"><span class="s8">Test ID: </span><span class="s7">${</span><span class="s1">testCaseId</span><span class="s7">}</span></p>
<p class="p4"><span class="s8">Category: </span><span class="s7">${</span><span class="s1">categoryKey</span><span class="s7">}</span><span class="s8"> (</span><span class="s7">${</span><span class="s1">categoryInfo</span><span class="s7">.</span><span class="s1">description</span><span class="s7">}</span><span class="s8">)</span></p>
<p class="p4"><span class="s8">Priority: </span><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">priority</span><span class="s7">}</span></p>
<p class="p9"><span class="s1">---</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s1">## Original Requirement</span></p>
<p class="p4"><span class="s8">&gt; </span><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">testRequirement</span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s1">## Test Case / Prompt</span></p>
<p class="p9"><span class="s1">\`\`\`text</span></p>
<p class="p4"><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">testCase</span><span class="s7">}</span></p>
<p class="p9"><span class="s1">\`\`\`</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s1">## Expected Result</span></p>
<p class="p4"><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">expectedResult</span><span class="s7">}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s1">## Actual Result</span></p>
<p class="p9"><span class="s1">&lt;!-- Fill in the result after execution --&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s1">## Notes</span></p>
<p class="p9"><span class="s1">`</span><span class="s7">;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Add file to zip under its category folder</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>zip</span><span class="s7">.</span><span class="s1">file</span><span class="s7">(</span><span class="s8">`</span><span class="s7">${</span><span class="s1">projectName</span><span class="s7">}</span><span class="s8">/</span><span class="s7">${</span><span class="s1">folderName</span><span class="s7">}</span><span class="s8">/</span><span class="s7">${</span><span class="s1">testFileName</span><span class="s7">}</span><span class="s8">`</span><span class="s7">,</span><span class="s1"> fileContent</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>testPlanContent </span><span class="s7">+=</span><span class="s1"> </span><span class="s8">`### [</span><span class="s7">${</span><span class="s1">testCaseId</span><span class="s7">}</span><span class="s8">] </span><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">testCase</span><span class="s7">.</span><span class="s1">substring</span><span class="s7">(</span><span class="s14">0</span><span class="s7">,</span><span class="s1"> </span><span class="s14">70</span><span class="s7">)}</span><span class="s8">...\n- **Category:** </span><span class="s7">${</span><span class="s1">categoryKey</span><span class="s7">}</span><span class="s8">\n- **Priority:** </span><span class="s7">${</span><span class="s1">artifact</span><span class="s7">.</span><span class="s1">priority</span><span class="s7">}</span><span class="s8">\n\n`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Add the main test plan file to the root of the zip</span></p>
<p class="p9"><span class="s4"><span class="Apple-converted-space">            </span>zip</span><span class="s7">.</span><span class="s4">file</span><span class="s7">(</span><span class="s1">`</span><span class="s7">${</span><span class="s4">projectName</span><span class="s7">}</span><span class="s1">/README.md`</span><span class="s7">,</span><span class="s4"> </span><span class="s1">`# </span><span class="s7">${</span><span class="s4">projectName</span><span class="s7">}</span><span class="s1">\n\nThis folder contains all generated test cases for the project.\n\n</span><span class="s7">${</span><span class="s4">testPlanContent</span><span class="s7">}</span><span class="s1">`</span><span class="s7">);</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// 3. Generate and download the ZIP file</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>zip</span><span class="s7">.</span><span class="s1">generateAsync</span><span class="s7">({</span><span class="s1"> type</span><span class="s7">:</span><span class="s1"> </span><span class="s8">"blob"</span><span class="s1"> </span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s1">then</span><span class="s7">(</span><span class="s10">function</span><span class="s7">(</span><span class="s1">content</span><span class="s7">)</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s10">const</span><span class="s1"> link </span><span class="s7">=</span><span class="s1"> document</span><span class="s7">.</span><span class="s1">createElement</span><span class="s7">(</span><span class="s8">'a'</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>link</span><span class="s7">.</span><span class="s1">href </span><span class="s7">=</span><span class="s1"> </span><span class="s12">URL</span><span class="s7">.</span><span class="s1">createObjectURL</span><span class="s7">(</span><span class="s1">content</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>link</span><span class="s7">.</span><span class="s1">download </span><span class="s7">=</span><span class="s1"> </span><span class="s8">`</span><span class="s7">${</span><span class="s1">projectName</span><span class="s7">}</span><span class="s8">.zip`</span><span class="s7">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">appendChild</span><span class="s7">(</span><span class="s1">link</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>link</span><span class="s7">.</span><span class="s1">click</span><span class="s7">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s7">.</span><span class="s1">body</span><span class="s7">.</span><span class="s1">removeChild</span><span class="s7">(</span><span class="s1">link</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">.</span><span class="s10">catch</span><span class="s7">(</span><span class="s1">err </span><span class="s7">=&gt;</span><span class="s1"> </span><span class="s7">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>displayError</span><span class="s7">(</span><span class="s8">"Failed to create ZIP file: "</span><span class="s1"> </span><span class="s7">+</span><span class="s1"> err</span><span class="s7">.</span><span class="s1">message</span><span class="s7">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
</body>
</html>
