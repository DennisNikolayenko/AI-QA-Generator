<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI QA Project Generator</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: 'Inter', sans-serif; background-color: #f9fafb; }
  textarea { width: 100%; min-height: 150px; border: 1px solid #d1d5db; border-radius: 0.5rem; padding: 1rem; resize: vertical; }
  button { margin-top: 1rem; background-color: #2563eb; color: white; border: none; border-radius: 0.5rem; padding: 0.75rem 1.5rem; cursor: pointer; }
  button:hover { background-color: #1d4ed8; }
  pre { background-color: #f3f4f6; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
</style>
</head>
<body>
  <div class="max-w-3xl mx-auto p-6 mt-10 bg-white shadow-lg rounded">
    <h1 class="text-3xl font-bold mb-4">AI QA Project Generator</h1>
    <p class="mb-4">
      Paste your prompts or requirements below. The app will categorize them and generate a preview of structured project files.
    </p>

    <textarea id="inputText" placeholder="Enter prompts or requirements..."></textarea>
    <input type="text" id="apiKey" placeholder="OpenAI API Key (optional)" class="mt-2 p-2 border border-gray-300 rounded w-full"/>
    <button onclick="previewProject()">Preview Project</button>

    <div id="status" class="mt-4 text-green-600 font-semibold"></div>
    <div id="preview" class="mt-6"></div>
  </div>

<script>
const CATEGORIES = ['Bias', 'Factuality', 'Compliance', 'UX'];

function previewProject() {
  const inputText = document.getElementById('inputText').value.trim();
  const status = document.getElementById('status');
  const preview = document.getElementById('preview');
  preview.innerHTML = '';
  status.textContent = '';

  if (!inputText) { alert('Enter some text!'); return; }

  status.textContent = 'Generating preview...';

  // Fake parsing logic: just split lines and assign randomly to categories
  const lines = inputText.split('\n').filter(l => l.trim() !== '');
  const grouped = {};
  CATEGORIES.forEach(c => grouped[c] = []);
  lines.forEach((line, i) => {
    const category = CATEGORIES[i % CATEGORIES.length];
    grouped[category].push({
      question: line,
      expected_assertion: 'icontains: sample answer'
    });
  });

  let previewHtml = '<h2 class="text-xl font-semibold mb-2">Preview:</h2>';
  for (const category of CATEGORIES) {
    if (grouped[category].length === 0) continue;
    previewHtml += `<h3 class="font-bold mt-2">${category} (${grouped[category].length} items)</h3>`;
    previewHtml += '<pre>' + grouped[category].map(i => `${i.question} -> ${i.expected_assertion}`).join('\n') + '</pre>';
  }
  preview.innerHTML = previewHtml;
  status.textContent = 'âœ… Preview generated!';
}
</script>
</body>
</html>
